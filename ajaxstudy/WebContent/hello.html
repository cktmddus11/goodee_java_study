<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<script type="text/javascript" src="ajax.js"></script>
<script>
	function helloToServer(){
		sendRequest("hello.jsp", "name="+document.f.name.value, helloFromServer, "POST");
	}
	// 콜백함수 : ajax 객체의 상태가 변환되면 자동 호출되는 함수 
	/* 
	ajax : readyState 
	 	0 : ajax 객체 생성.
	 	1 : ajax 객체 준비 상태. open 함수 실행 상태
	 	2 : ajax 객체 전송 상태. send 함수 실행 상태 
	 	3 : 서버에서 응답중인 상태
	 	4 : 서버에서 응답 완료 상태
	 ajax.status : 서버에서 전송된 응답 상태.
	 	200 : 정상처리
	 	404 : 해당 페이지 없음
	*/
	function helloFromServer(){
		if(ajax.readyState == 4){
			if(ajax.status == 200){
				// ajax.responseText : 서버에서 응답 내용을 저장
				hello.innerHTML = ajax.responseText; // responseText : 출력할내용
			}
		}
	}
</script>
</head>
<body>
	<form name="f">
		<input type="text" name="name">
		<input type="button" value="인사하기" onclick = "helloToServer()">
	</form>
	<div id = "hello"></div>
</body>
</html>